/*!
 * jQuery Shuffleboard Plugin
 * Created by Rehan Dalal
 *
 * Date: Thu Jun 30 14:16:56 2011 -0400
 */
(function($){var methods={create:function(a){var b={autoStart:!0,direction:"back",easing:"swing",interval:1e3,randomize:!0,speed:1e3,tag:"img"};return a&&$.extend(b,a),this.each(function(){var a=$(this),c=a.data("shuffleboard");c||a.data("shuffleboard",b),a.css({position:"relative"}),a.children(b.tag).each(function(){$(this).css({position:"absolute"})}),a.shuffleboard("reindex"),b.randomize&&a.shuffleboard("scatter"),b.autoStart&&a.shuffleboard("start")})},destroy:function(){return this.each(function(){var a=$(this),b=a.data("shuffleboard");a.shuffleboard("stop"),$(window).unbind(".shuffleboard"),b.shuffleboard.remove(),a.removeData("shuffleboard")})},reindex:function(){return this.each(function(){var a=$(this),b=a.data("shuffleboard");a.children(b.tag).each(function(a){$(this).css({zIndex:a+1})})})},scatter:function(){return this.each(function(){var a=$(this),b=a.data("shuffleboard");a.children(b.tag).each(function(){var b=parseInt(a.css("paddingLeft"))+Math.floor(Math.random()*(a.width()-$(this).outerWidth()+1)),c=parseInt(a.css("paddingTop"))+Math.floor(Math.random()*(a.height()-$(this).outerHeight()+1));$(this).css({left:b+"px",top:c+"px"})})})},shuffle:function(){return this.each(function(){var a=$(this),b=a.data("shuffleboard"),c=b.direction=="front"?a.children(b.tag).first():a.children(b.tag).last();if(b.randomize)var d=parseInt(a.css("paddingLeft"))+Math.floor(Math.random()*(a.width()-c.outerWidth()+1)),e=parseInt(a.css("paddingTop"))+Math.floor(Math.random()*(a.height()-c.outerHeight()+1));else var d=0,e=0;c.animate({top:a.outerHeight()+"px",left:a.outerWidth()+"px"},b.speed/2,b.easing,function(){$(this).css("zIndex",b.direction=="front"?a.children(b.tag).length+1:0),$(this).animate({top:e+"px",left:d+"px"},b.speed/2,b.easing,function(){b.direction=="front"?a.append($(this).clone()):a.prepend($(this).clone()),$(this).remove(),a.shuffleboard("reindex"),b._started&&a.shuffleboard("start")})})})},start:function(){return this.each(function(){var a=$(this),b=a.data("shuffleboard");b._started=!0,b._timeout=setTimeout(function(){a.shuffleboard("shuffle")},b.interval)})},stop:function(){return this.each(function(){var a=$(this),b=a.data("shuffleboard");b._started=!1,b._timeout&&clearTimeout(b._timeout)})}};$.fn.shuffleboard=function(a){if(methods[a])return methods[a].apply(this,Array.prototype.slice.call(arguments,1));if(typeof a=="object"||!a)return methods.create.apply(this,arguments);$.error("Method "+a+" does not exist on jQuery.shuffleboard")}})(jQuery);